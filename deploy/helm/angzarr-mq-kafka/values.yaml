# Kafka configuration for Angzarr
# Wraps Bitnami Kafka chart with angzarr defaults

# Namespace where angzarr is deployed
angzarrNamespace: angzarr

# Kafka subchart configuration
kafka:
  # Controller configuration (KRaft mode)
  controller:
    replicaCount: 1
    persistence:
      enabled: true
      size: 2Gi
      storageClass: ""
    resources:
      limits:
        cpu: 500m
        memory: 1Gi
      requests:
        cpu: 100m
        memory: 512Mi

  # Broker configuration
  broker:
    replicaCount: 1
    persistence:
      enabled: true
      size: 2Gi
      storageClass: ""
    resources:
      limits:
        cpu: 500m
        memory: 1Gi
      requests:
        cpu: 100m
        memory: 512Mi

  # Listeners
  listeners:
    client:
      protocol: PLAINTEXT
    controller:
      protocol: PLAINTEXT
    interbroker:
      protocol: PLAINTEXT

  # SASL configuration (optional)
  sasl:
    client:
      users: []
      passwords: ""

  # Auto-create topics
  autoCreateTopicsEnable: true

  # Metrics (optional)
  metrics:
    kafka:
      enabled: false
    jmx:
      enabled: false
    serviceMonitor:
      enabled: false

# Connection info for angzarr applications
# These are informational - actual connection uses service DNS
connection:
  # Service name pattern: {{ .Release.Name }}-kafka
  port: 9092
  topicPrefix: "angzarr"
