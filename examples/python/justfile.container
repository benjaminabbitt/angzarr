# Python poker examples - container version
# This file is mounted as 'justfile' inside the container
# Also used directly in CI container jobs

set shell := ["bash", "-c"]

TOP := `git rev-parse --show-toplevel`

default:
    @just --list

build:
    uv sync

install: build

test-unit: build
    uv run pytest -v

test-acceptance: build
    uv run behave features/

test: test-unit test-acceptance

fmt:
    uv run black .

lint:
    uv run ruff check .

typecheck:
    uv run mypy . --ignore-missing-imports

run-player: build
    cd player/agg && uv run python main.py

run-table: build
    cd table/agg && uv run python main.py

run-hand: build
    cd hand/agg && uv run python main.py
