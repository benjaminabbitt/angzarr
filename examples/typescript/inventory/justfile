# Inventory Business Logic - TypeScript gRPC Server

set shell := ["bash", "-c"]

TOP := `git rev-parse --show-toplevel`

default:
    @just --list

install:
    npm install

build: install
    npm run build

run: build
    npm start

dev: install
    npm run dev

copy-features:
    rm -rf features
    cp -r {{TOP}}/examples/features .

unit: install
    npm run test

acceptance: install copy-features
    ANGZARR_TEST_MODE=container npm run cucumber

test: unit acceptance

test-unit: unit

clean:
    rm -rf dist node_modules
