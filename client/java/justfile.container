# Java client library - container version
# This file is mounted as 'justfile' inside the container

set shell := ["bash", "-c"]

# Gradle needs explicit settings file path
SETTINGS := "--settings-file /workspace/client/java/settings.gradle.kts"

default:
    @just --list

proto:
    cd /workspace/client/java && gradle {{SETTINGS}} :proto:generateProto

build:
    cd /workspace/client/java && gradle {{SETTINGS}} build

test:
    cd /workspace/client/java && gradle {{SETTINGS}} :client:test

coverage:
    cd /workspace/client/java && gradle {{SETTINGS}} jacocoTestReport

publish:
    cd /workspace/client/java && gradle {{SETTINGS}} publish
